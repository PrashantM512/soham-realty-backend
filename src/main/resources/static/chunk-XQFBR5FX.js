import{a as ae}from"./chunk-QHSYKTGE.js";import{a as A}from"./chunk-L6NDHVIG.js";import{a as re}from"./chunk-SWYTSQGT.js";import{e as W,i as G}from"./chunk-VMS3RUEP.js";import{c as J,d as K,e as Q,f as X,g as ee,j as te,k as ne,l as ie,m as oe,q as V}from"./chunk-BB36JPNX.js";import{$a as c,Da as y,G as L,Ia as M,Ma as u,Ob as S,Pb as w,Ta as d,Ua as h,Ub as E,Wa as n,X as m,Xa as i,Y as g,Ya as f,Za as P,_a as _,bb as Y,e as H,ea as B,gb as Z,hb as l,ib as x,jb as C,lb as I,nb as j,ob as q,pb as $,ua as b,yb as T,za as a}from"./chunk-SRQFOZRN.js";import{a as O,b as k}from"./chunk-7CGTOI24.js";function pe(r,t){if(r&1&&(n(0,"div",61),f(1,"i",62),l(2),i()),r&2){let e=c();a(2),C(" ",e.generalError," ")}}function me(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("title")," ")}}function ge(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("price")," ")}}function fe(r,t){if(r&1&&(n(0,"option",64),l(1),i()),r&2){let e=t.$implicit;d("value",e),a(),x(e)}}function _e(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("propertyType")," ")}}function ue(r,t){if(r&1&&(n(0,"option",64),l(1),i()),r&2){let e=t.$implicit;d("value",e),a(),x(e)}}function xe(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("status")," ")}}function ve(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("description")," ")}}function he(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("address")," ")}}function Ce(r,t){if(r&1&&(n(0,"option",64),l(1),i()),r&2){let e=t.$implicit;d("value",e),a(),C(" ",e," ")}}function Pe(r,t){if(r&1&&(n(0,"div",63)(1,"b"),l(2),i()()),r&2){let e=c();a(2),x(e.getFieldErrorMessage("city"))}}function be(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("state")," ")}}function ye(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("zip")," ")}}function Me(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("bedrooms")," ")}}function we(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("bathrooms")," ")}}function Ee(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("squareFootage")," ")}}function Oe(r,t){if(r&1){let e=P();n(0,"div",69),_("click",function(){m(e),c();let s=Z(2);return g(s.click())}),f(1,"i",70),n(2,"span"),l(3),i(),n(4,"span",71),l(5,"Click to upload"),i()()}if(r&2){let e=c().$implicit;a(3),x(e===0?"Main Image":"Image "+(e+1))}}function Se(r,t){if(r&1){let e=P();n(0,"div",72),f(1,"img",73),n(2,"button",74),_("click",function(){m(e);let s=c().$implicit,p=c();return g(p.removeImage(s))}),f(3,"i",6),i()()}if(r&2){let e=c().$implicit,o=c();a(),d("src",o.getImagePreview(e),b)("alt","Preview "+(e+1))}}function ke(r,t){if(r&1){let e=P();n(0,"div",65)(1,"input",66,1),_("change",function(s){let p=m(e).$implicit,v=c();return g(v.onFileSelected(s,p))}),i(),u(3,Oe,6,1,"div",67)(4,Se,4,2,"div",68),i()}if(r&2){let e=t.$implicit,o=c();a(),d("id","image"+e)("name","image"+e),a(2),d("ngIf",!o.hasImage(e)),a(),d("ngIf",o.hasImage(e))}}function Ie(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("images")," ")}}function Te(r,t){if(r&1&&(n(0,"div",63),l(1),i()),r&2){let e=c();a(),C(" ",e.getFieldErrorMessage("videoLink")," ")}}function Ve(r,t){if(r&1&&(n(0,"span"),l(1),i()),r&2){let e=c();a(),x(e.property?"Update Property":"Add Property")}}function Ae(r,t){if(r&1&&(n(0,"span"),f(1,"i",75),l(2),i()),r&2){let e=c();a(2),C(" ",e.property?"Updating...":"Adding..."," ")}}var D=class r{constructor(t){this.propertyService=t}property=null;save=new B;close=new B;formData={id:0,title:"",price:0,description:"",address:"",city:"",state:"",zip:"",images:[],bedrooms:0,bathrooms:0,squareFootage:0,propertyType:"House",videoLink:"",status:"Available",featured:!1};propertyTypes=["Row House","Flat","Apartment","Condo","Farm house","Villa","Studio Apartment","Penthouse","Loft","Row House","Bungalow","Independent House"];statusOptions=["Available","Sold"];cities=["Pune","Mumbai","Delhi","Bangalore","Chennai","Hyderabad","Kolkata","Ahmedabad","Jaipur","Chandigarh","Lucknow","Nagpur","Indore","Coimbatore","Visakhapatnam","Patna","Bhopal","Vadodara","Surat","Nashik"];selectedFiles=[];imagePreviews=[];existingImages=[];imageStates=[];maxImages=5;isSubmitting=!1;backendErrors={};generalError="";formSubmitted=!1;fieldErrors={};fieldTouched={};ngOnInit(){this.initializeImageArrays(),this.property&&(this.formData={id:this.property.id,title:this.property.title||"",price:this.property.price||0,description:this.property.description||"",address:this.property.address||"",city:this.property.city||"",state:this.property.state||"",zip:this.property.zip||"",bedrooms:this.property.bedrooms||0,bathrooms:Number(this.property.bathrooms)||0,squareFootage:this.property.squareFootage||0,propertyType:this.property.propertyType||"House",videoLink:this.property.videoLink||"",status:this.property.status||"Available",featured:this.property.featured||!1,images:[]},this.property.images&&Array.isArray(this.property.images)&&this.property.images.forEach((t,e)=>{e<this.maxImages&&(this.existingImages[e]=t,this.imagePreviews[e]=t,this.imageStates[e]="existing")}))}initializeImageArrays(){this.selectedFiles=new Array(this.maxImages).fill(null),this.imagePreviews=new Array(this.maxImages).fill(null),this.existingImages=new Array(this.maxImages).fill(null),this.imageStates=new Array(this.maxImages).fill("removed")}onFieldChange(t,e){let o=e;switch(t){case"price":case"bedrooms":case"bathrooms":case"squareFootage":o=e?Number(e):0;break;case"featured":o=!!e;break;default:o=e||""}this.formData[t]=o,this.validateField(t,o),this.backendErrors[t]&&delete this.backendErrors[t]}onInputChange(t,e){let o=t.target;o&&this.onFieldChange(e,o.value)}onSelectChange(t,e){let o=t.target;o&&this.onFieldChange(e,o.value)}onTextareaChange(t,e){let o=t.target;o&&this.onFieldChange(e,o.value)}onRadioChange(t,e){this.onFieldChange(t,e)}onFieldBlur(t){this.fieldTouched[t]=!0,this.validateField(t,this.formData[t])}validateField(t,e){switch(this.fieldErrors[t]="",t){case"title":!e||String(e).trim().length===0?this.fieldErrors[t]="Title is required":String(e).length<5?this.fieldErrors[t]="Title must be at least 5 characters":String(e).length>200&&(this.fieldErrors[t]="Title cannot exceed 200 characters");break;case"price":let o=Number(e);!e||o<=0?this.fieldErrors[t]="Price is required and must be greater than 0":o<1e3?this.fieldErrors[t]="Price must be at least \u20B91,000":o>999999999&&(this.fieldErrors[t]="Price cannot exceed \u20B9999,999,999");break;case"description":e&&String(e).length>1e3&&(this.fieldErrors[t]="Description cannot exceed 1000 characters");break;case"address":!e||String(e).trim().length===0?this.fieldErrors[t]="Address is required":String(e).length<5?this.fieldErrors[t]="Address must be at least 5 characters":String(e).length>200&&(this.fieldErrors[t]="Address cannot exceed 200 characters");break;case"city":!e||String(e).trim().length===0?this.fieldErrors[t]="City is required":String(e).length<2?this.fieldErrors[t]="City must be at least 2 characters":/^[a-zA-Z\s]+$/.test(String(e))||(this.fieldErrors[t]="City must contain only letters and spaces");break;case"state":!e||String(e).trim().length===0?this.fieldErrors[t]="State is required":String(e).length<2?this.fieldErrors[t]="State must be at least 2 characters":/^[a-zA-Z\s]+$/.test(String(e))||(this.fieldErrors[t]="State must contain only letters and spaces");break;case"zip":!e||String(e).trim().length===0?this.fieldErrors[t]="ZIP code is required":/^\d{6}$/.test(String(e))||(this.fieldErrors[t]="ZIP code must be exactly 6 digits");break;case"bedrooms":let s=Number(e);s<0?this.fieldErrors[t]="Bedrooms cannot be negative":s>20&&(this.fieldErrors[t]="Bedrooms cannot exceed 20");break;case"bathrooms":let p=Number(e);p<0?this.fieldErrors[t]="Bathrooms cannot be negative":p>20&&(this.fieldErrors[t]="Bathrooms cannot exceed 20");break;case"squareFootage":let v=Number(e);v<0?this.fieldErrors[t]="Square footage cannot be negative":v>5e4&&(this.fieldErrors[t]="Square footage cannot exceed 50,000");break;case"videoLink":e&&String(e).trim().length>0&&(/^(https?:\/\/)?(www\.)?(instagram\.com|instagr\.am)\/(p|reel|tv)\/[A-Za-z0-9_-]+\/?.*$/.test(String(e))||(this.fieldErrors[t]="Video link must be a valid Instagram URL (posts, reels, or IGTV)"));break}}validateAllFields(){return["title","price","description","address","city","state","zip","bedrooms","bathrooms","squareFootage","videoLink"].forEach(o=>{this.validateField(o,this.formData[o]),this.fieldTouched[o]=!0}),this.imagePreviews.some(o=>o!==null)?this.fieldErrors.images="":this.fieldErrors.images="At least one image is required",!Object.values(this.fieldErrors).some(o=>o.length>0)}shouldShowError(t){return(this.formSubmitted||this.fieldTouched[t])&&!!(this.fieldErrors[t]||this.backendErrors[t])||!!this.backendErrors[t]}getFieldErrorMessage(t){return this.backendErrors[t]||this.fieldErrors[t]||""}onFileSelected(t,e){let s=t.target?.files?.[0];if(s&&s.type.startsWith("image/")){this.selectedFiles[e]=s;let p=new FileReader;p.onload=v=>{this.imagePreviews[e]=v.target.result,this.imageStates[e]="new",this.imagePreviews.some(de=>de!==null)&&(this.fieldErrors.images="")},p.readAsDataURL(s)}}removeImage(t){this.selectedFiles[t]=null,this.imagePreviews[t]=null,this.imageStates[t]="removed",this.imagePreviews.some(s=>s!==null)||(this.fieldErrors.images="At least one image is required");let o=document.getElementById(`image${t}`);o&&(o.value="")}onSubmit(){if(this.formSubmitted=!0,this.clearErrors(),!this.validateAllFields()){this.scrollToFirstError();return}this.isSubmitting=!0;let e=O({},this.formData);delete e.images,delete e.id,this.property?this.updateExistingProperty(e):this.createNewProperty(e)}scrollToFirstError(){setTimeout(()=>{let t=Object.keys(this.fieldErrors).filter(e=>this.fieldErrors[e]);if(t.length>0){let e=t[0],o=document.getElementById(e);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.focus())}},100)}updateExistingProperty(t){this.propertyService.updateProperty(this.property.id,t).subscribe({next:e=>{let o=e.data;this.handleImageUpdates(o.id,()=>{this.isSubmitting=!1,this.propertyService.getPropertyById(o.id).subscribe({next:s=>{this.save.emit(k(O({},s.data),{isNew:!1}))},error:s=>{console.error("Error reloading property:",s),this.save.emit(k(O({},o),{isNew:!1}))}})})},error:e=>{this.isSubmitting=!1,this.handleError(e)}})}createNewProperty(t){this.propertyService.createProperty(t).subscribe({next:e=>{let o=e.data,s=this.selectedFiles.filter(p=>p!==null);s.length>0?this.propertyService.uploadPropertyImages(o.id,s).subscribe({next:p=>{this.isSubmitting=!1,this.propertyService.getPropertyById(o.id).subscribe({next:v=>{this.save.emit(k(O({},v.data),{isNew:!0}))}})},error:p=>{this.isSubmitting=!1,this.handleError(p)}}):(this.isSubmitting=!1,this.save.emit(k(O({},o),{isNew:!0})))},error:e=>{this.isSubmitting=!1,this.handleError(e)}})}handleImageUpdates(t,e){if(!this.imageStates.some(p=>p==="new"||p==="removed")){e();return}let s=this.selectedFiles.filter(p=>p!==null);s.length>0?this.propertyService.uploadPropertyImages(t,s).subscribe({next:p=>{console.log("Images updated successfully"),e()},error:p=>{console.error("Error updating images:",p),this.generalError="Property saved but some images failed to upload.",e()}}):e()}isFormValid(){if(this.formSubmitted)return!Object.values(this.fieldErrors).some(t=>t.length>0)&&!Object.values(this.backendErrors).some(t=>t.length>0);{let t=this.imagePreviews.some(e=>e!==null);return!!(this.formData.title&&this.formData.price>0&&this.formData.address&&this.formData.city&&this.formData.state&&this.formData.zip&&t)}}handleError(t){console.error("Error saving property:",t),t.status===400&&t.error&&t.error.data?(this.backendErrors=t.error.data,this.generalError=t.error.message||"Please fix the validation errors below."):t.status===400&&t.error&&t.error.error?this.generalError=t.error.error:this.generalError="Failed to save property. Please try again.",this.scrollToFirstError()}clearErrors(){this.backendErrors={},this.generalError=""}onCancel(){this.clearErrors(),this.fieldErrors={},this.fieldTouched={},this.formSubmitted=!1,this.close.emit()}getImageIndexes(){return Array(this.maxImages).fill(0).map((t,e)=>e)}trackByIndex(t){return t}hasImage(t){return this.imagePreviews[t]!==null}getImagePreview(t){return this.imagePreviews[t]}getCharacterCount(t){return t?String(t).length:0}static \u0275fac=function(e){return new(e||r)(y(A))};static \u0275cmp=M({type:r,selectors:[["app-add-edit-property"]],inputs:{property:"property"},outputs:{save:"save",close:"close"},decls:131,vars:99,consts:[["propertyForm","ngForm"],["fileInput",""],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],["class","general-error-message",4,"ngIf"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-section"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","required","","placeholder","Enter property title",3,"input","blur","value"],["class","field-error",4,"ngIf"],[1,"form-row"],["for","price"],["type","number","id","price","name","price","required","","placeholder","Enter price","min","1000",3,"input","blur","value"],["for","propertyType"],["id","propertyType","name","propertyType",3,"change","blur","value"],[3,"value",4,"ngFor","ngForOf"],["for","status"],["id","status","name","status","required","",3,"ngModelChange","blur","ngModel"],["for","description"],["id","description","name","description","rows","3","placeholder","Enter property description","maxlength","1000",3,"input","blur","value"],[1,"field-info"],[1,"char-count"],["for","address"],["type","text","id","address","name","address","required","","placeholder","Enter street address",3,"input","blur","value"],["for","city"],["id","city","name","city","required","",1,"form-control",3,"ngModelChange","blur","ngModel"],["disabled","","value",""],["for","state"],["type","text","id","state","name","state","required","","placeholder","State","pattern","[a-zA-Z\\\\s]+",3,"input","blur","value"],["for","zip"],["type","text","id","zip","name","zip","required","","placeholder","ZIP","pattern","\\\\d{6}","maxlength","6",3,"input","blur","value"],["for","bedrooms"],["type","number","id","bedrooms","name","bedrooms","min","0","max","20","placeholder","0",3,"input","blur","value"],["for","bathrooms"],["type","number","id","bathrooms","name","bathrooms","min","0","max","20","step","0.5","placeholder","0",3,"input","blur","value"],["for","squareFootage"],["type","number","id","squareFootage","name","squareFootage","min","0","max","50000","placeholder","0",3,"input","blur","value"],[1,"images-section"],[1,"field-hint"],[1,"field-hint",2,"color","red"],[1,"image-upload-grid"],["class","image-upload-box",4,"ngFor","ngForOf","ngForTrackBy"],[1,"radio-group",2,"display","inline-flex"],[1,"radio-option",2,"margin-right","100%"],["type","radio","id","featuredNo","name","featured",3,"change","checked"],["for","featuredNo"],[1,"radio-option"],["type","radio","id","featuredYes","name","featured",3,"change","checked"],["for","featuredYes"],["for","videoLink"],["type","text","id","videoLink","name","videoLink","placeholder","https://www.instagram.com/reel/xxxxx/",3,"input","blur","value"],[1,"fas","fa-info-circle"],[1,"modal-footer"],["type","button",1,"cancel-btn",3,"click","disabled"],["type","submit",1,"save-btn","btn-gradient",3,"disabled"],[4,"ngIf"],[1,"general-error-message"],[1,"fas","fa-exclamation-triangle"],[1,"field-error"],[3,"value"],[1,"image-upload-box"],["type","file","accept","image/*",1,"file-input",3,"change","id","name"],["class","upload-placeholder",3,"click",4,"ngIf"],["class","image-preview-container",4,"ngIf"],[1,"upload-placeholder",3,"click"],[1,"fas","fa-cloud-upload-alt"],[1,"upload-hint"],[1,"image-preview-container"],[3,"src","alt"],["type","button",1,"remove-image-btn",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,o){if(e&1){let s=P();n(0,"div",2),_("click",function(){return m(s),g(o.onCancel())}),n(1,"div",3),_("click",function(v){return m(s),g(v.stopPropagation())}),n(2,"div",4)(3,"h2"),l(4),i(),n(5,"button",5),_("click",function(){return m(s),g(o.onCancel())}),f(6,"i",6),i()(),u(7,pe,3,1,"div",7),n(8,"form",8,0),_("ngSubmit",function(){return m(s),g(o.onSubmit())}),n(10,"div",9)(11,"div",10)(12,"h3"),l(13,"Basic Information"),i(),n(14,"div",11)(15,"label",12),l(16,"Title *"),i(),n(17,"input",13),_("input",function(v){return m(s),g(o.onInputChange(v,"title"))})("blur",function(){return m(s),g(o.onFieldBlur("title"))}),i(),u(18,me,2,1,"div",14),i(),n(19,"div",15)(20,"div",11)(21,"label",16),l(22,"Price *"),i(),n(23,"input",17),_("input",function(v){return m(s),g(o.onInputChange(v,"price"))})("blur",function(){return m(s),g(o.onFieldBlur("price"))}),i(),u(24,ge,2,1,"div",14),i(),n(25,"div",11)(26,"label",18),l(27,"Property Type *"),i(),n(28,"select",19),_("change",function(v){return m(s),g(o.onSelectChange(v,"propertyType"))})("blur",function(){return m(s),g(o.onFieldBlur("propertyType"))}),u(29,fe,2,2,"option",20),i(),u(30,_e,2,1,"div",14),i(),n(31,"div",11)(32,"label",21),l(33,"Status *"),i(),n(34,"select",22),$("ngModelChange",function(v){return m(s),q(o.formData.status,v)||(o.formData.status=v),g(v)}),_("blur",function(){return m(s),g(o.onFieldBlur("status"))}),u(35,ue,2,2,"option",20),i(),u(36,xe,2,1,"div",14),i()(),n(37,"div",11)(38,"label",23),l(39,"Description"),i(),n(40,"textarea",24),_("input",function(v){return m(s),g(o.onTextareaChange(v,"description"))})("blur",function(){return m(s),g(o.onFieldBlur("description"))}),i(),n(41,"div",25)(42,"span",26),l(43),i()(),u(44,ve,2,1,"div",14),i()(),n(45,"div",10)(46,"h3"),l(47,"Location Information"),i(),n(48,"div",11)(49,"label",27),l(50,"Address *"),i(),n(51,"input",28),_("input",function(v){return m(s),g(o.onInputChange(v,"address"))})("blur",function(){return m(s),g(o.onFieldBlur("address"))}),i(),u(52,he,2,1,"div",14),i(),n(53,"div",15)(54,"div",11)(55,"label",29),l(56,"City *"),i(),n(57,"select",30),$("ngModelChange",function(v){return m(s),q(o.formData.city,v)||(o.formData.city=v),g(v)}),_("blur",function(){return m(s),g(o.onFieldBlur("city"))}),n(58,"option",31),l(59,"All Cities"),i(),u(60,Ce,2,2,"option",20),i(),u(61,Pe,3,1,"div",14),i(),n(62,"div",11)(63,"label",32),l(64,"State *"),i(),n(65,"input",33),_("input",function(v){return m(s),g(o.onInputChange(v,"state"))})("blur",function(){return m(s),g(o.onFieldBlur("state"))}),i(),u(66,be,2,1,"div",14),i(),n(67,"div",11)(68,"label",34),l(69,"ZIP Code *"),i(),n(70,"input",35),_("input",function(v){return m(s),g(o.onInputChange(v,"zip"))})("blur",function(){return m(s),g(o.onFieldBlur("zip"))}),i(),u(71,ye,2,1,"div",14),i()()(),n(72,"div",10)(73,"h3"),l(74,"Property Details"),i(),n(75,"div",15)(76,"div",11)(77,"label",36),l(78,"Bedrooms"),i(),n(79,"input",37),_("input",function(v){return m(s),g(o.onInputChange(v,"bedrooms"))})("blur",function(){return m(s),g(o.onFieldBlur("bedrooms"))}),i(),u(80,Me,2,1,"div",14),i(),n(81,"div",11)(82,"label",38),l(83,"Bathrooms"),i(),n(84,"input",39),_("input",function(v){return m(s),g(o.onInputChange(v,"bathrooms"))})("blur",function(){return m(s),g(o.onFieldBlur("bathrooms"))}),i(),u(85,we,2,1,"div",14),i(),n(86,"div",11)(87,"label",40),l(88,"Square Footage"),i(),n(89,"input",41),_("input",function(v){return m(s),g(o.onInputChange(v,"squareFootage"))})("blur",function(){return m(s),g(o.onFieldBlur("squareFootage"))}),i(),u(90,Ee,2,1,"div",14),i()()(),n(91,"div",10)(92,"h3"),l(93,"Media"),i(),n(94,"div",42)(95,"label"),l(96,"Property Images *"),i(),n(97,"p",43),l(98,"Upload up to 5 images. At least one image is required. The first image will be used as the main property image."),i(),n(99,"p",44),l(100,"If you're updating property image then please upload your all images again , becoz old one will replace after update"),i(),n(101,"div",45),u(102,ke,5,4,"div",46),i(),u(103,Ie,2,1,"div",14),i(),n(104,"div",15)(105,"div",11)(106,"label"),l(107,"Featured Property? (want to show on homepage? but status should be Available)"),i(),n(108,"div",47)(109,"div",48)(110,"input",49),_("change",function(){return m(s),g(o.onRadioChange("featured",!1))}),i(),n(111,"label",50),l(112,"No"),i()(),n(113,"div",51)(114,"input",52),_("change",function(){return m(s),g(o.onRadioChange("featured",!0))}),i(),n(115,"label",53),l(116,"Yes"),i()()()()(),n(117,"div",11)(118,"label",54),l(119,"Video Link (Instagram Reel URL)"),i(),n(120,"input",55),_("input",function(v){return m(s),g(o.onInputChange(v,"videoLink"))})("blur",function(){return m(s),g(o.onFieldBlur("videoLink"))}),i(),u(121,Te,2,1,"div",14),n(122,"div",43),f(123,"i",56),l(124," Only Instagram post/reel URLs are allowed. Example: https://www.instagram.com/reel/xxxxx/ "),i()()()(),n(125,"div",57)(126,"button",58),_("click",function(){return m(s),g(o.onCancel())}),l(127,"Cancel"),i(),n(128,"button",59),u(129,Ve,2,1,"span",60)(130,Ae,3,1,"span",60),i()()()()()}e&2&&(a(4),x(o.property?"Edit Property":"Add New Property"),a(3),d("ngIf",o.generalError),a(7),h("has-error",o.shouldShowError("title")),a(3),h("error",o.shouldShowError("title")),d("value",o.formData.title),a(),d("ngIf",o.shouldShowError("title")),a(2),h("has-error",o.shouldShowError("price")),a(3),h("error",o.shouldShowError("price")),d("value",o.formData.price),a(),d("ngIf",o.shouldShowError("price")),a(),h("has-error",o.shouldShowError("propertyType")),a(3),h("error",o.shouldShowError("propertyType")),d("value",o.formData.propertyType),a(),d("ngForOf",o.propertyTypes),a(),d("ngIf",o.shouldShowError("propertyType")),a(),h("has-error",o.shouldShowError("status")),a(3),h("error",o.shouldShowError("status")),j("ngModel",o.formData.status),a(),d("ngForOf",o.statusOptions),a(),d("ngIf",o.shouldShowError("status")),a(),h("has-error",o.shouldShowError("description")),a(3),h("error",o.shouldShowError("description")),d("value",o.formData.description||""),a(2),h("warning",o.getCharacterCount(o.formData.description)>800)("danger",o.getCharacterCount(o.formData.description)>950),a(),C(" ",o.getCharacterCount(o.formData.description),"/1000 "),a(),d("ngIf",o.shouldShowError("description")),a(4),h("has-error",o.shouldShowError("address")),a(3),h("error",o.shouldShowError("address")),d("value",o.formData.address),a(),d("ngIf",o.shouldShowError("address")),a(5),j("ngModel",o.formData.city),a(3),d("ngForOf",o.cities),a(),d("ngIf",o.shouldShowError("city")),a(),h("has-error",o.shouldShowError("state")),a(3),h("error",o.shouldShowError("state")),d("value",o.formData.state),a(),d("ngIf",o.shouldShowError("state")),a(),h("has-error",o.shouldShowError("zip")),a(3),h("error",o.shouldShowError("zip")),d("value",o.formData.zip),a(),d("ngIf",o.shouldShowError("zip")),a(5),h("has-error",o.shouldShowError("bedrooms")),a(3),h("error",o.shouldShowError("bedrooms")),d("value",o.formData.bedrooms),a(),d("ngIf",o.shouldShowError("bedrooms")),a(),h("has-error",o.shouldShowError("bathrooms")),a(3),h("error",o.shouldShowError("bathrooms")),d("value",o.formData.bathrooms),a(),d("ngIf",o.shouldShowError("bathrooms")),a(),h("has-error",o.shouldShowError("squareFootage")),a(3),h("error",o.shouldShowError("squareFootage")),d("value",o.formData.squareFootage),a(),d("ngIf",o.shouldShowError("squareFootage")),a(4),h("has-error",o.shouldShowError("images")),a(7),h("error",o.shouldShowError("images")),a(),d("ngForOf",o.getImageIndexes())("ngForTrackBy",o.trackByIndex),a(),d("ngIf",o.shouldShowError("images")),a(7),d("checked",o.formData.featured===!1),a(4),d("checked",o.formData.featured===!0),a(3),h("has-error",o.shouldShowError("videoLink")),a(3),h("error",o.shouldShowError("videoLink"))("success",o.formData.videoLink&&!o.shouldShowError("videoLink")),d("value",o.formData.videoLink||""),a(),d("ngIf",o.shouldShowError("videoLink")),a(5),d("disabled",o.isSubmitting),a(2),d("disabled",o.isSubmitting),a(),d("ngIf",!o.isSubmitting),a(),d("ngIf",o.isSubmitting))},dependencies:[E,S,w,V,ee,ne,ie,te,J,K,oe,X,Q],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;overflow-y:auto}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:800px;width:100%;display:flex;flex-direction:column;position:relative;margin:auto;box-shadow:0 10px 40px #0003}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid #e0e0e0;background:#fff;border-radius:12px 12px 0 0;position:sticky;top:0;z-index:10}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin:0}.close-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:none;border:none;border-radius:6px;color:#666;cursor:pointer;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f7fa;color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;overflow-x:hidden;flex:1;scrollbar-width:thin;scrollbar-color:#ccc #f5f5f5}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f5f5;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999}.form-section[_ngcontent-%COMP%]{margin-bottom:32px}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid #f0f0f0}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#333;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #e0e0e0;border-radius:6px;font-size:14px;color:#333;background-color:#fff;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#06f;box-shadow:0 0 0 3px #0066ff1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#999}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.images-section[_ngcontent-%COMP%]{margin-bottom:20px}.field-hint[_ngcontent-%COMP%]{font-size:13px;color:#666;margin:8px 0 16px}.image-upload-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px;margin-top:16px}.image-upload-box[_ngcontent-%COMP%]{position:relative;aspect-ratio:1}.file-input[_ngcontent-%COMP%]{display:none}.upload-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;border:2px dashed #e0e0e0;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;background-color:#f8f9fa;transition:all .2s ease}.upload-placeholder[_ngcontent-%COMP%]:hover{border-color:#06f;background-color:#f0f7ff}.upload-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#999;margin-bottom:8px}.upload-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666;font-weight:500}.upload-placeholder[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{font-size:12px;color:#999;font-weight:400}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:8px;overflow:hidden;border:1px solid #e0e0e0}.image-preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:30px;height:30px;background-color:#ffffffe6;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 8px #00000026;transition:all .2s ease}.remove-image-btn[_ngcontent-%COMP%]:hover{background-color:#f44;color:#fff;transform:scale(1.1)}.remove-image-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid #e0e0e0;background:#fff;border-radius:0 0 12px 12px;position:sticky;bottom:0;z-index:10}.cancel-btn[_ngcontent-%COMP%]{padding:10px 24px;background:none;border:1px solid #e0e0e0;border-radius:6px;color:#666;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#f5f7fa;border-color:#ccc}.save-btn[_ngcontent-%COMP%]{padding:10px 24px;background-color:#06f;border:none;border-radius:6px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0052cc}.save-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:0;align-items:flex-start}.modal-content[_ngcontent-%COMP%]{max-width:100%;border-radius:0;margin:0}.modal-header[_ngcontent-%COMP%]{border-radius:0;padding:16px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.modal-body[_ngcontent-%COMP%]{padding:16px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.image-upload-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.modal-footer[_ngcontent-%COMP%]{padding:16px;border-radius:0;flex-direction:column-reverse}.cancel-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{width:100%}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}@media (max-height: 700px){.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:16px 24px}}.save-btn[_ngcontent-%COMP%]   .fa-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-content.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#ffffffb3;z-index:10}.general-error-message[_ngcontent-%COMP%]{background-color:#fee;border:1px solid #fcc;border-radius:6px;padding:12px 16px;margin-bottom:20px;color:#c53030;font-size:14px;display:flex;align-items:center;gap:8px}.general-error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e53e3e;font-size:16px}.field-error[_ngcontent-%COMP%]{color:#e53e3e;font-size:12px;margin-top:4px;display:flex;align-items:center;gap:4px;line-height:1.4}.field-error[_ngcontent-%COMP%]:before{content:"\\26a0";font-size:12px;color:#e53e3e}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]{border-color:#e53e3e;box-shadow:0 0 0 1px #e53e3e;background-color:#fef5f5}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]:focus{border-color:#e53e3e;box-shadow:0 0 0 2px #e53e3e33;outline:none}.field-hint[_ngcontent-%COMP%]{font-size:12px;color:#718096;margin-top:4px;display:flex;align-items:center;gap:4px;line-height:1.4}.field-hint[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4299e1;font-size:12px}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-group.has-error[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]   input.success[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.success[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.success[_ngcontent-%COMP%]{border-color:#38a169;box-shadow:0 0 0 1px #38a169}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#2d3748;font-size:14px}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:#e53e3e}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background:#a0aec0}.cancel-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}#videoLink[_ngcontent-%COMP%]{transition:all .2s ease}#videoLink[_ngcontent-%COMP%]:focus{border-color:#4299e1;box-shadow:0 0 0 2px #4299e133}#videoLink[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a0aec0}.image-upload-grid.error[_ngcontent-%COMP%]{border:2px dashed #e53e3e;border-radius:8px;padding:8px;background-color:#fef5f5}@media (max-width: 768px){.general-error-message[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.field-error[_ngcontent-%COMP%], .field-hint[_ngcontent-%COMP%]{font-size:11px}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-2px)}20%,40%,60%,80%{transform:translate(2px)}}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}.modal-content[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px -12px #00000040}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a1a1a1}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]:focus + .field-error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]:focus + .field-error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]:focus + .field-error[_ngcontent-%COMP%]{color:#c53030;font-weight:500}']})};function De(r,t){r&1&&(n(0,"div",10),f(1,"div",11),n(2,"p"),l(3,"Loading properties..."),i()())}function Fe(r,t){if(r&1){let e=P();n(0,"tr")(1,"td",18),l(2),i(),n(3,"td",19),l(4),i(),n(5,"td",20),l(6),i(),n(7,"td",21)(8,"span",22),l(9),i()(),n(10,"td",23)(11,"button",24),_("click",function(){let s=m(e).$implicit,p=c(3);return g(p.viewProperty(s))}),f(12,"i",25),l(13," View "),i()(),n(14,"td",26)(15,"button",27),_("click",function(){let s=m(e).$implicit,p=c(3);return g(p.openEditProperty(s))}),l(16,"Edit"),i(),n(17,"span",28),l(18,"|"),i(),n(19,"button",29),_("click",function(){let s=m(e).$implicit,p=c(3);return g(p.confirmDelete(s))}),l(20,"Delete"),i()()()}if(r&2){let e=t.$implicit,o=c(3);a(2),x(e.title),a(2),x(o.formatPrice(e.price)),a(2),x(e.description),a(2),h("available",e.status==="Available")("sold",e.status==="Sold"),a(),C(" ",e.status," ")}}function ze(r,t){if(r&1&&(n(0,"table",16)(1,"thead")(2,"tr")(3,"th"),l(4,"Title"),i(),n(5,"th"),l(6,"Price"),i(),n(7,"th"),l(8,"Description"),i(),n(9,"th"),l(10,"Status"),i(),n(11,"th"),l(12,"View"),i(),n(13,"th"),l(14,"Actions"),i()()(),n(15,"tbody"),u(16,Fe,21,8,"tr",17),i()()),r&2){let e=c(2);a(16),d("ngForOf",e.paginatedProperties)}}function Le(r,t){if(r&1){let e=P();n(0,"button",38),_("click",function(){let s=m(e).$implicit,p=c(3);return g(p.goToPropertiesPage(s))}),l(1),i()}if(r&2){let e=t.$implicit,o=c(3);h("active",e===o.propertiesCurrentPage),a(),C(" ",e," ")}}function Be(r,t){if(r&1){let e=P();n(0,"div",30)(1,"div",31),l(2),i(),n(3,"div",32)(4,"button",33),_("click",function(){m(e);let s=c(2);return g(s.goToPropertiesPage(s.propertiesCurrentPage-1))}),f(5,"i",34),l(6," Previous "),i(),n(7,"div",35),u(8,Le,2,3,"button",36),i(),n(9,"button",33),_("click",function(){m(e);let s=c(2);return g(s.goToPropertiesPage(s.propertiesCurrentPage+1))}),l(10," Next "),f(11,"i",37),i()()()}if(r&2){let e=c(2);a(2),I(" Showing ",e.getStartIndex()," to ",e.getEndIndex()," of ",e.totalProperties," properties "),a(2),d("disabled",e.propertiesCurrentPage===1),a(4),d("ngForOf",e.getPropertiesPageNumbers()),a(),d("disabled",e.propertiesCurrentPage===e.totalPropertiesPages)}}function je(r,t){if(r&1){let e=P();n(0,"div",39),f(1,"i",40),n(2,"h3"),l(3,"No properties found"),i(),n(4,"p"),l(5,"Start by adding your first property"),i(),n(6,"button",3),_("click",function(){m(e);let s=c(2);return g(s.openAddProperty())}),f(7,"i",4),l(8," Add Property "),i()()}}function qe(r,t){if(r&1&&(n(0,"div",12),u(1,ze,17,1,"table",13)(2,Be,12,6,"div",14)(3,je,9,0,"div",15),i()),r&2){let e=c();a(),d("ngIf",e.properties.length>0),a(),d("ngIf",e.properties.length>0&&e.totalPropertiesPages>1),a(),d("ngIf",e.properties.length===0&&!e.isLoading)}}function $e(r,t){if(r&1){let e=P();n(0,"app-add-edit-property",41),_("save",function(s){m(e);let p=c();return g(p.onPropertySaved(s))})("close",function(){m(e);let s=c();return g(s.closeModal())}),i()}if(r&2){let e=c();d("property",e.selectedProperty)}}function Re(r,t){if(r&1){let e=P();n(0,"div",42),_("click",function(){m(e);let s=c();return g(s.cancelDelete())}),n(1,"div",43),_("click",function(s){return m(e),g(s.stopPropagation())}),n(2,"h3"),l(3,"Confirm Delete"),i(),n(4,"p"),l(5),i(),n(6,"div",44)(7,"button",45),_("click",function(){m(e);let s=c();return g(s.cancelDelete())}),l(8,"Cancel"),i(),n(9,"button",46),_("click",function(){m(e);let s=c();return g(s.deleteProperty())}),l(10,"Delete"),i()()()()}if(r&2){let e=c();a(5),C('Are you sure you want to delete "',e.propertyToDelete==null?null:e.propertyToDelete.title,'"?')}}function Ue(r,t){if(r&1){let e=P();n(0,"div",77)(1,"img",78),_("click",function(){let s=m(e).$implicit,p=c(4);return g(p.openImageModal(s))}),i(),n(2,"div",79),f(3,"i",80),i()()}if(r&2){let e=t.$implicit,o=t.index,s=c(4);a(),Y("alt","",s.viewingProperty.title," - Image ",o+1,""),d("src",e,b)}}function Ne(r,t){if(r&1&&(n(0,"div",75),u(1,Ue,4,4,"div",76),i()),r&2){let e=c(3);a(),d("ngForOf",e.viewingProperty.images)}}function He(r,t){r&1&&(n(0,"div",81),f(1,"i",82),n(2,"p"),l(3,"No images available"),i()())}function Ye(r,t){if(r&1&&(n(0,"div",64)(1,"div",65),f(2,"i",83),l(3," PROPERTY TYPE "),i(),n(4,"div",84),l(5),i()()),r&2){let e=c(3);a(5),x(e.viewingProperty.type)}}function Ze(r,t){if(r&1&&(n(0,"div",64)(1,"div",65),f(2,"i",85),l(3," AREA "),i(),n(4,"div",84),l(5),i()()),r&2){let e=c(3);a(5),C("",e.viewingProperty.area," sq ft")}}function We(r,t){if(r&1&&(n(0,"div",64)(1,"div",65),f(2,"i",86),l(3," BEDROOMS "),i(),n(4,"div",84),l(5),i()()),r&2){let e=c(3);a(5),x(e.viewingProperty.bedrooms)}}function Ge(r,t){if(r&1&&(n(0,"div",64)(1,"div",65),f(2,"i",87),l(3," BATHROOMS "),i(),n(4,"div",84),l(5),i()()),r&2){let e=c(3);a(5),x(e.viewingProperty.bathrooms)}}function Je(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",94),i(),n(3,"div",95)(4,"div",96),l(5,"Address"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.address)}}function Ke(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",98),i(),n(3,"div",95)(4,"div",96),l(5,"City"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.city)}}function Qe(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",99),i(),n(3,"div",95)(4,"div",96),l(5,"State"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.state)}}function Xe(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",100),i(),n(3,"div",95)(4,"div",96),l(5,"ZIP Code"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.zipCode)}}function et(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",101),i(),n(3,"div",95)(4,"div",96),l(5,"Area/Location"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.location)}}function tt(r,t){if(r&1&&(n(0,"div",88)(1,"h3",59),f(2,"i",89),l(3," Location Details "),i(),n(4,"div",90),u(5,Je,8,1,"div",91)(6,Ke,8,1,"div",91)(7,Qe,8,1,"div",91)(8,Xe,8,1,"div",91)(9,et,8,1,"div",91),i()()),r&2){let e=c(3);a(5),d("ngIf",e.viewingProperty.address),a(),d("ngIf",e.viewingProperty.city),a(),d("ngIf",e.viewingProperty.state),a(),d("ngIf",e.viewingProperty.zipCode),a(),d("ngIf",e.viewingProperty.location)}}function nt(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",103),i(),n(3,"div",95)(4,"div",96),l(5,"Year Built"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.yearBuilt)}}function it(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",104),i(),n(3,"div",95)(4,"div",96),l(5,"Parking"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),C("",e.viewingProperty.parking," spaces")}}function ot(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",105),i(),n(3,"div",95)(4,"div",96),l(5,"Garage"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.garage)}}function rt(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",106),i(),n(3,"div",95)(4,"div",96),l(5,"Lot Size"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.lot)}}function at(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",107),i(),n(3,"div",95)(4,"div",96),l(5,"Floors"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.floors)}}function lt(r,t){if(r&1&&(n(0,"div",88)(1,"h3",59),f(2,"i",102),l(3," Additional Features "),i(),n(4,"div",90),u(5,nt,8,1,"div",91)(6,it,8,1,"div",91)(7,ot,8,1,"div",91)(8,rt,8,1,"div",91)(9,at,8,1,"div",91),i()()),r&2){let e=c(3);a(5),d("ngIf",e.viewingProperty.yearBuilt),a(),d("ngIf",e.viewingProperty.parking),a(),d("ngIf",e.viewingProperty.garage),a(),d("ngIf",e.viewingProperty.lot),a(),d("ngIf",e.viewingProperty.floors)}}function st(r,t){if(r&1&&(n(0,"div",111),f(1,"i",112),l(2),i()),r&2){let e=t.$implicit;a(2),C(" ",e," ")}}function dt(r,t){if(r&1&&(n(0,"div",88)(1,"h3",59),f(2,"i",108),l(3," Amenities "),i(),n(4,"div",109),u(5,st,3,1,"div",110),i()()),r&2){let e=c(3);a(5),d("ngForOf",e.viewingProperty.amenities)}}function ct(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",114),i(),n(3,"div",95)(4,"div",96),l(5,"Contact Person"),i(),n(6,"div",97),l(7),i()()()),r&2){let e=c(4);a(7),x(e.viewingProperty.contactName)}}function pt(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",115),i(),n(3,"div",95)(4,"div",96),l(5,"Phone"),i(),n(6,"div",97)(7,"a",116),l(8),i()()()()),r&2){let e=c(4);a(7),d("href","tel:"+e.viewingProperty.contactPhone,b),a(),x(e.viewingProperty.contactPhone)}}function mt(r,t){if(r&1&&(n(0,"div",92)(1,"div",93),f(2,"i",117),i(),n(3,"div",95)(4,"div",96),l(5,"Email"),i(),n(6,"div",97)(7,"a",116),l(8),i()()()()),r&2){let e=c(4);a(7),d("href","mailto:"+e.viewingProperty.contactEmail,b),a(),x(e.viewingProperty.contactEmail)}}function gt(r,t){if(r&1&&(n(0,"div",88)(1,"h3",59),f(2,"i",113),l(3," Contact Information "),i(),n(4,"div",90),u(5,ct,8,1,"div",91)(6,pt,9,2,"div",91)(7,mt,9,2,"div",91),i()()),r&2){let e=c(3);a(5),d("ngIf",e.viewingProperty.contactName),a(),d("ngIf",e.viewingProperty.contactPhone),a(),d("ngIf",e.viewingProperty.contactEmail)}}function ft(r,t){if(r&1&&(n(0,"div",88)(1,"h3",59),f(2,"i",118),l(3," Additional Notes "),i(),n(4,"div",119),l(5),i()()),r&2){let e=c(3);a(5),C(" ",e.viewingProperty.notes," ")}}function _t(r,t){if(r&1){let e=P();n(0,"div",53)(1,"div",54)(2,"h2",55),l(3),i(),n(4,"button",56),_("click",function(){m(e);let s=c(2);return g(s.closeViewDialog())}),f(5,"i",51),i()(),f(6,"hr",57),n(7,"div",58)(8,"h3",59),f(9,"i",60),l(10," Property Images "),i(),u(11,Ne,2,1,"div",61)(12,He,4,0,"div",62),i(),n(13,"h3",59),f(14,"i",40),l(15," Basic Information "),i(),n(16,"div",63)(17,"div",64)(18,"div",65),f(19,"i",66),l(20," PRICE "),i(),n(21,"div",67),l(22),i()(),n(23,"div",64)(24,"div",65),f(25,"i",68),l(26," STATUS "),i(),n(27,"span",69),l(28),i()(),u(29,Ye,6,1,"div",70)(30,Ze,6,1,"div",70)(31,We,6,1,"div",70)(32,Ge,6,1,"div",70),i(),n(33,"div",71)(34,"h3",59),f(35,"i",72),l(36," Description "),i(),n(37,"p",73),l(38),i()(),u(39,tt,10,5,"div",74)(40,lt,10,5,"div",74)(41,dt,6,1,"div",74)(42,gt,8,3,"div",74)(43,ft,6,1,"div",74),i()}if(r&2){let e=c(2);a(3),x(e.viewingProperty==null?null:e.viewingProperty.title),a(8),d("ngIf",e.viewingProperty.images&&e.viewingProperty.images.length>0),a(),d("ngIf",!e.viewingProperty.images||e.viewingProperty.images.length===0),a(10),x(e.formatPrice(e.viewingProperty.price)),a(5),h("available",e.viewingProperty.status==="Available")("sold",e.viewingProperty.status==="Sold"),a(),C(" ",e.viewingProperty.status," "),a(),d("ngIf",e.viewingProperty.type),a(),d("ngIf",e.viewingProperty.area),a(),d("ngIf",e.viewingProperty.bedrooms),a(),d("ngIf",e.viewingProperty.bathrooms),a(6),x(e.viewingProperty.description),a(),d("ngIf",e.viewingProperty.location||e.viewingProperty.address||e.viewingProperty.city||e.viewingProperty.state||e.viewingProperty.zipCode),a(),d("ngIf",e.viewingProperty.yearBuilt||e.viewingProperty.parking||e.viewingProperty.garage||e.viewingProperty.lot||e.viewingProperty.floors),a(),d("ngIf",e.viewingProperty.amenities&&e.viewingProperty.amenities.length>0),a(),d("ngIf",e.viewingProperty.contactName||e.viewingProperty.contactPhone||e.viewingProperty.contactEmail),a(),d("ngIf",e.viewingProperty.notes)}}function ut(r,t){if(r&1){let e=P();n(0,"div",42),_("click",function(){m(e);let s=c();return g(s.closeViewDialog())}),n(1,"div",47),_("click",function(s){return m(e),g(s.stopPropagation())}),n(2,"div",48)(3,"h2",49),l(4),i(),n(5,"button",50),f(6,"i",51),i()(),u(7,_t,44,19,"div",52),i()()}if(r&2){let e=c();a(4),x(e.viewingProperty==null?null:e.viewingProperty.title),a(3),d("ngIf",e.viewingProperty)}}function xt(r,t){if(r&1){let e=P();n(0,"div",120),_("click",function(){m(e);let s=c();return g(s.closeImageModal())}),n(1,"img",121),_("click",function(s){return m(e),g(s.stopPropagation())}),i(),n(2,"button",122),_("click",function(){m(e);let s=c();return g(s.closeImageModal())}),f(3,"i",51),i()()}if(r&2){let e=c();a(),d("src",e.selectedImage,b)}}var F=class r{constructor(t,e,o){this.propertyService=t;this.cdr=e;this.utilityService=o}properties=[];showAddEditModal=!1;selectedProperty=null;showDeleteConfirm=!1;propertyToDelete=null;isLoading=!0;propertiesCurrentPage=1;propertiesPerPage=5;paginatedProperties=[];totalPropertiesPages=0;totalProperties=0;ngOnInit(){this.loadProperties()}loadProperties(){this.isLoading=!0,this.cdr.markForCheck();let t={page:this.propertiesCurrentPage,limit:this.propertiesPerPage,sortBy:"newest"};this.propertyService.getAllProperties(t).subscribe({next:e=>{this.properties=e.data,this.paginatedProperties=e.data,this.totalProperties=e.total,this.totalPropertiesPages=e.totalPages,this.isLoading=!1,this.cdr.markForCheck()},error:e=>{console.error("Error loading properties:",e),this.isLoading=!1,this.cdr.markForCheck()}})}goToPropertiesPage(t){t>=1&&t<=this.totalPropertiesPages&&(this.propertiesCurrentPage=t,this.loadProperties())}getPropertiesPageNumbers(){let t=[],o=Math.max(1,this.propertiesCurrentPage-Math.floor(2.5)),s=Math.min(this.totalPropertiesPages,o+5-1);s-o+1<5&&(o=Math.max(1,s-5+1));for(let p=o;p<=s;p++)t.push(p);return t}getStartIndex(){return(this.propertiesCurrentPage-1)*this.propertiesPerPage+1}getEndIndex(){let t=this.propertiesCurrentPage*this.propertiesPerPage;return t>this.totalProperties?this.totalProperties:t}openAddProperty(){this.selectedProperty=null,this.showAddEditModal=!0}openEditProperty(t){this.selectedProperty=t,this.showAddEditModal=!0}closeModal(){this.showAddEditModal=!1,this.selectedProperty=null}onPropertySaved(t){t.isNew?this.loadProperties():this.loadProperties(),this.closeModal()}confirmDelete(t){this.propertyToDelete=t,this.showDeleteConfirm=!0}deleteProperty(){this.propertyToDelete&&this.propertyService.deleteProperty(this.propertyToDelete.id).subscribe({next:()=>{this.paginatedProperties.length===1&&this.propertiesCurrentPage>1&&this.propertiesCurrentPage--,this.loadProperties(),this.cancelDelete()},error:t=>{console.error("Error deleting property:",t),alert("Failed to delete property. Please try again."),this.cancelDelete()}})}cancelDelete(){this.propertyToDelete=null,this.showDeleteConfirm=!1}formatPrice(t){return this.utilityService.formatPrice(t)}showViewDialog=!1;viewingProperty=null;showImageModal=!1;selectedImage="";viewProperty(t){this.viewingProperty=t,this.showViewDialog=!0}closeViewDialog(){this.showViewDialog=!1,this.viewingProperty=null}openImageModal(t){this.selectedImage=t,this.showImageModal=!0}closeImageModal(){this.showImageModal=!1,this.selectedImage=""}static \u0275fac=function(e){return new(e||r)(y(A),y(T),y(ae))};static \u0275cmp=M({type:r,selectors:[["app-properties-management"]],decls:13,vars:6,consts:[[1,"properties-management"],[1,"page-header"],[1,"page-title","name-container"],[1,"add-property-btn","btn-gradient",3,"click"],[1,"fas","fa-plus"],["class","loading-container",4,"ngIf"],["class","table-container name-container",4,"ngIf"],[3,"property","save","close",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"table-container","name-container"],["class","properties-table name-container",4,"ngIf"],["class","pagination-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"properties-table","name-container"],[4,"ngFor","ngForOf"],[1,"property-title-cell"],[1,"price-cell"],[1,"description-cell"],[1,"status-cell"],[1,"status-badge"],[1,"view-cell"],[1,"action-btn","view-btn",2,"color","blue",3,"click"],[1,"fas","fa-eye"],[1,"actions-cell"],[1,"action-btn","edit-btn",3,"click"],[1,"separator"],[1,"action-btn","delete-btn",3,"click"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"pagination-numbers"],["class","pagination-number",3,"active","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"pagination-number",3,"click"],[1,"empty-state"],[1,"fas","fa-home"],[3,"save","close","property"],[1,"modal-overlay",3,"click"],[1,"delete-dialog",3,"click"],[1,"dialog-actions"],[1,"cancel-btn",3,"click"],[1,"confirm-delete-btn",3,"click"],[1,"view-dialog",3,"click"],[1,"view-dialog-header"],[1,"view-dialog-title",2,"visibility","hidden"],[1,"close-dialog-btn",2,"visibility","hidden"],[1,"fas","fa-times"],["class","view-dialog-body",4,"ngIf"],[1,"view-dialog-body"],[1,"view-dialog-header-two"],[1,"view-dialog-title"],[1,"close-dialog-btn",3,"click"],[1,"row-divider"],[1,"property-gallery"],[1,"section-title"],[1,"fas","fa-images"],["class","images-grid",4,"ngIf"],["class","no-image-placeholder",4,"ngIf"],[1,"property-details-grid"],[1,"detail-card"],[1,"detail-label"],[1,"fas","fa-dollar-sign"],[1,"detail-value","price-value"],[1,"fas","fa-info-circle"],[1,"status-value"],["class","detail-card",4,"ngIf"],[1,"description-section"],[1,"fas","fa-align-left"],[1,"description-text"],["class","detail-section",4,"ngIf"],[1,"images-grid"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[3,"click","src","alt"],[1,"image-overlay"],[1,"fas","fa-search-plus"],[1,"no-image-placeholder"],[1,"fas","fa-image"],[1,"fas","fa-building"],[1,"detail-value"],[1,"fas","fa-ruler-combined"],[1,"fas","fa-bed"],[1,"fas","fa-bath"],[1,"detail-section"],[1,"fas","fa-map-marked-alt"],[1,"info-grid"],["class","info-item",4,"ngIf"],[1,"info-item"],[1,"info-icon"],[1,"fas","fa-road"],[1,"info-content"],[1,"info-label"],[1,"info-value"],[1,"fas","fa-city"],[1,"fas","fa-map"],[1,"fas","fa-mail-bulk"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-list-ul"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-car"],[1,"fas","fa-warehouse"],[1,"fas","fa-expand-arrows-alt"],[1,"fas","fa-layer-group"],[1,"fas","fa-star"],[1,"amenities-grid"],["class","amenity-item",4,"ngFor","ngForOf"],[1,"amenity-item"],[1,"fas","fa-check-circle"],[1,"fas","fa-user-tie"],[1,"fas","fa-user"],[1,"fas","fa-phone"],[3,"href"],[1,"fas","fa-envelope"],[1,"fas","fa-sticky-note"],[1,"notes-content"],[1,"image-modal",3,"click"],["alt","Full size image",3,"click","src"],[1,"close-image-modal",3,"click"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"All Properties :"),i(),n(4,"button",3),_("click",function(){return o.openAddProperty()}),f(5,"i",4),l(6," Add Property "),i()(),u(7,De,4,0,"div",5)(8,qe,4,3,"div",6)(9,$e,1,1,"app-add-edit-property",7)(10,Re,11,1,"div",8)(11,ut,8,2,"div",8)(12,xt,4,1,"div",9),i()),e&2&&(a(7),d("ngIf",o.isLoading),a(),d("ngIf",!o.isLoading),a(),d("ngIf",o.showAddEditModal),a(),d("ngIf",o.showDeleteConfirm),a(),d("ngIf",o.showViewDialog),a(),d("ngIf",o.showImageModal))},dependencies:[E,S,w,V,D],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0}.properties-management[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;min-height:calc(100vh - 140px)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0}.add-property-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;background:#06f;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .3s}.add-property-btn[_ngcontent-%COMP%]:hover{background:#0052cc}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.properties-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.properties-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f5f7fa}.properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px;text-align:left;font-size:14px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #e0e0e0}.properties-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #f0f0f0;color:#333;font-size:14px}.properties-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.property-title-cell[_ngcontent-%COMP%]{font-weight:500;color:#333}.price-cell[_ngcontent-%COMP%]{font-weight:600;color:#06f}.description-cell[_ngcontent-%COMP%]{color:#666;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.status-cell[_ngcontent-%COMP%]{text-align:center}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.status-badge.available[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.status-badge.sold[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.status-badge.pending[_ngcontent-%COMP%]{background:#ffc107;color:#856404}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap}.action-btn[_ngcontent-%COMP%]{background:none;border:none;color:#06f;font-size:14px;font-weight:500;cursor:pointer;padding:4px 8px;transition:color .2s}.action-btn[_ngcontent-%COMP%]:hover{color:#0052cc}.view-btn[_ngcontent-%COMP%]{color:#34a853}.view-btn[_ngcontent-%COMP%]:hover{color:#1e7e34}.delete-btn[_ngcontent-%COMP%]{color:#f44}.delete-btn[_ngcontent-%COMP%]:hover{color:#c00}.separator[_ngcontent-%COMP%]{color:#ccc;margin:0 4px}.view-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:16px;max-width:800px;width:90%;max-height:90vh;overflow:hidden;box-shadow:0 20px 60px #00000026;display:flex;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.view-dialog-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#06f,#0052cc);color:#fff;padding:24px;position:relative;max-width:20%}.view-dialog-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0;padding-right:40px}.close-dialog-btn[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#fff3;border:none;width:36px;height:36px;border-radius:50%;color:#fff;font-size:20px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.close-dialog-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.view-dialog-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px;max-height:calc(90vh - 100px)}.property-gallery[_ngcontent-%COMP%]{margin:17px 0 32px}.images-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-top:16px}.image-item[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;cursor:pointer;height:180px;background:#f5f7fa}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s}.image-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s;color:#fff;font-size:24px}.image-item[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.no-image-placeholder[_ngcontent-%COMP%]{height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#999;font-size:48px;background:#f5f7fa;border-radius:12px}.no-image-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-top:12px}.property-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin:32px 0}.detail-card[_ngcontent-%COMP%]{background:#f0f0f0;padding:20px;border-radius:12px;transition:all .2s}.detail-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.detail-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.detail-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#303030}.detail-value[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#333}.price-value[_ngcontent-%COMP%]{color:#06f;font-size:24px;font-weight:600}.status-value[_ngcontent-%COMP%]{display:inline-block;padding:6px 16px;border-radius:20px;font-size:14px;font-weight:500}.status-value.available[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.status-value.sold[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:16px;display:flex;align-items:center;gap:8px}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#303030}.description-section[_ngcontent-%COMP%]{background:#f0f0f0;padding:24px;border-radius:12px;margin-bottom:24px}.description-text[_ngcontent-%COMP%]{font-size:15px;line-height:1.6;color:#666;white-space:pre-wrap}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;padding:20px;background:#f0f0f0;border-radius:12px}.detail-section[_ngcontent-%COMP%]{margin-bottom:32px}.amenities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:16px}.amenity-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#f0f8ff;border-radius:8px;color:#333;font-size:14px}.amenity-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50;font-size:16px}.notes-content[_ngcontent-%COMP%]{background:#fffbf0;padding:16px;border-radius:8px;border-left:4px solid #ff9800;font-size:14px;line-height:1.6;color:#666;white-space:pre-wrap}.image-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:2000;padding:20px}.image-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90vh;object-fit:contain;border-radius:8px}.close-image-modal[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#fff3;border:none;width:40px;height:40px;border-radius:50%;color:#fff;font-size:24px;cursor:pointer;transition:all .2s}.close-image-modal[_ngcontent-%COMP%]:hover{background:#ffffff4d}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.info-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#18202c;font-size:18px}.info-content[_ngcontent-%COMP%]{flex:1}.info-label[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:2px}.info-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px;padding-top:20px;border-top:1px solid #f0f0f0}.pagination-info[_ngcontent-%COMP%]{color:#666;font-size:14px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;background:#f5f7fa;color:#666;border:1px solid #e0e0e0;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#06f;color:#fff;border-color:#06f}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-numbers[_ngcontent-%COMP%]{display:flex;gap:4px}.pagination-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#f5f7fa;color:#666;border:1px solid #e0e0e0;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.pagination-number[_ngcontent-%COMP%]:hover, .pagination-number.active[_ngcontent-%COMP%]{background:#06f;color:#fff;border-color:#06f}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-bottom:8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.delete-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:24px;max-width:400px;width:90%}.delete-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-bottom:12px}.delete-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:24px}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end}.cancel-btn[_ngcontent-%COMP%]{padding:8px 20px;background:none;border:1px solid #e0e0e0;border-radius:6px;color:#666;font-size:14px;cursor:pointer;transition:all .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa}.confirm-delete-btn[_ngcontent-%COMP%]{padding:8px 20px;background:#f44;border:none;border-radius:6px;color:#fff;font-size:14px;cursor:pointer;transition:background-color .2s}.confirm-delete-btn[_ngcontent-%COMP%]:hover{background:#c00}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem;margin:0}.name-container[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}@media (max-width:768px){.properties-management[_ngcontent-%COMP%]{padding:20px}.close-dialog-btn[_ngcontent-%COMP%]{color:#101010;margin:30px 29px 0 0}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.add-property-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.properties-table[_ngcontent-%COMP%]{font-size:12px}.properties-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .properties-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.description-cell[_ngcontent-%COMP%]{max-width:150px}.view-dialog[_ngcontent-%COMP%]{width:100%;height:100%;max-height:100vh;border-radius:0}.view-dialog-header[_ngcontent-%COMP%]{padding:16px;display:none}.view-dialog-title[_ngcontent-%COMP%]{font-size:20px}.images-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}.image-item[_ngcontent-%COMP%]{height:120px}.property-details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.pagination-container[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.pagination-controls[_ngcontent-%COMP%]{justify-content:center}.pagination-btn[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px}.pagination-number[_ngcontent-%COMP%]{width:32px;height:32px;font-size:12px}}.footer[_ngcontent-%COMP%]{margin-top:0}.view-dialog-header-two[_ngcontent-%COMP%]{background:#fff;color:#000;padding:8px 4px 11px 8px}"],changeDetection:0})};function vt(r,t){if(r&1&&(n(0,"span",10),l(1),i()),r&2){let e=c();a(),C("",e.totalContacts," Total Contacts")}}function ht(r,t){r&1&&(n(0,"div",11),f(1,"div",12),n(2,"p"),l(3,"Loading contacts..."),i()())}function Ct(r,t){if(r&1&&(n(0,"div",34)(1,"a",22),l(2),i()()),r&2){let e=c().$implicit;a(),d("href","tel:"+e.phone,b),a(),x(e.phone)}}function Pt(r,t){if(r&1&&(n(0,"span",35),l(1),i()),r&2){let e=c().$implicit;a(),x(e.propertyTitle)}}function bt(r,t){r&1&&(n(0,"span",36),l(1,"General Inquiry"),i())}function yt(r,t){if(r&1){let e=P();n(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),f(4,"i",19),n(5,"div",20),l(6),i()(),n(7,"div",21)(8,"a",22),l(9),i()(),u(10,Ct,3,2,"div",23),i(),n(11,"div",24)(12,"div",25),u(13,Pt,2,1,"span",26)(14,bt,2,0,"span",27),i(),n(15,"div",28),l(16),i()()(),n(17,"div",29)(18,"button",30),_("click",function(){let s=m(e).$implicit,p=c(2);return g(p.viewDetails(s))}),f(19,"i",31),l(20," View Full Message "),i(),n(21,"button",32),_("click",function(){let s=m(e).$implicit,p=c(2);return g(p.confirmDelete(s))}),f(22,"i",33),l(23," Delete "),i()()()}if(r&2){let e=t.$implicit,o=c(2);a(6),x(e.name),a(2),d("href","mailto:"+e.email,b),a(),x(e.email),a(),d("ngIf",e.phone),a(3),d("ngIf",e.propertyTitle),a(),d("ngIf",!e.propertyTitle),a(2),x(o.formatDate(e.createdAt))}}function Mt(r,t){if(r&1&&(n(0,"div",13),u(1,yt,24,7,"div",14),i()),r&2){let e=c();a(),d("ngForOf",e.paginatedContacts)("ngForTrackBy",e.trackByContactId)}}function wt(r,t){r&1&&(n(0,"div",37),f(1,"i",38),n(2,"h3"),l(3,"No contacts found"),i(),n(4,"p"),l(5,"Contact messages will appear here"),i()())}function Et(r,t){if(r&1){let e=P();n(0,"button",49),_("click",function(){let s=m(e).$implicit,p=c(2);return g(p.goToPage(s))}),l(1),i()}if(r&2){let e=t.$implicit,o=c(2);h("active",e===o.currentPage),a(),C(" ",e," ")}}function Ot(r,t){if(r&1){let e=P();n(0,"div",39)(1,"div",40)(2,"span",41),l(3),i()(),n(4,"div",42)(5,"button",43),_("click",function(){m(e);let s=c();return g(s.previousPage())}),f(6,"i",44),l(7," Previous "),i(),n(8,"div",45),u(9,Et,2,3,"button",46),i(),n(10,"button",47),_("click",function(){m(e);let s=c();return g(s.nextPage())}),l(11," Next "),f(12,"i",48),i()()()}if(r&2){let e=c();a(3),I(" Showing ",(e.currentPage-1)*e.itemsPerPage+1," to ",e.getMin(e.currentPage*e.itemsPerPage,e.totalContacts)," of ",e.totalContacts," contacts "),a(2),d("disabled",e.currentPage===1),a(4),d("ngForOf",e.getPageNumbers()),a(),d("disabled",e.currentPage===e.totalPages)}}function St(r,t){if(r&1){let e=P();n(0,"div",50),_("click",function(){m(e);let s=c();return g(s.cancelDelete())}),n(1,"div",51),_("click",function(s){return m(e),g(s.stopPropagation())}),n(2,"h3"),l(3,"Confirm Delete"),i(),n(4,"p"),l(5),i(),n(6,"div",52)(7,"button",53),_("click",function(){m(e);let s=c();return g(s.cancelDelete())}),l(8,"Cancel"),i(),n(9,"button",54),_("click",function(){m(e);let s=c();return g(s.deleteContact())}),l(10,"Delete"),i()()()()}if(r&2){let e=c();a(5),C("Are you sure you want to delete this contact message from ",e.contactToDelete==null?null:e.contactToDelete.name,"?")}}function kt(r,t){if(r&1&&(n(0,"div",61)(1,"span",62),f(2,"i",72),l(3," Phone "),i(),n(4,"span",64)(5,"a",22),l(6),i()()()),r&2){let e=c(3);a(5),d("href","tel:"+e.selectedContact.phone,b),a(),x(e.selectedContact.phone)}}function It(r,t){if(r&1&&(n(0,"span"),l(1),i()),r&2){let e=c(3);a(),x(e.selectedContact.propertyTitle)}}function Tt(r,t){r&1&&(n(0,"span",36),l(1,"General Inquiry"),i())}function Vt(r,t){if(r&1&&(n(0,"div",60)(1,"div",61)(2,"span",62),f(3,"i",63),l(4," Name "),i(),n(5,"span",64),l(6),i()(),n(7,"div",61)(8,"span",62),f(9,"i",65),l(10," Email "),i(),n(11,"span",64)(12,"a",22),l(13),i()()(),u(14,kt,7,2,"div",66),n(15,"div",61)(16,"span",62),f(17,"i",67),l(18," Property "),i(),n(19,"span",64),u(20,It,2,1,"span",68)(21,Tt,2,0,"span",27),i()(),n(22,"div",61)(23,"span",62),f(24,"i",69),l(25," Date "),i(),n(26,"span",64),l(27),i()(),n(28,"div",61)(29,"span",62),f(30,"i",70),l(31," Message "),i(),n(32,"div",71),l(33),i()()()),r&2){let e=c(2);a(6),x(e.selectedContact.name),a(6),d("href","mailto:"+e.selectedContact.email,b),a(),x(e.selectedContact.email),a(),d("ngIf",e.selectedContact.phone),a(6),d("ngIf",e.selectedContact.propertyTitle),a(),d("ngIf",!e.selectedContact.propertyTitle),a(6),x(e.formatDate(e.selectedContact.createdAt)),a(6),x(e.selectedContact.message)}}function At(r,t){if(r&1){let e=P();n(0,"div",50),_("click",function(){m(e);let s=c();return g(s.closeDetailDialog())}),n(1,"div",55),_("click",function(s){return m(e),g(s.stopPropagation())}),n(2,"h3"),f(3,"i",56),l(4,"\xA0 Contact Details"),i(),u(5,Vt,34,8,"div",57),n(6,"div",52)(7,"button",58),_("click",function(){m(e);let s=c();return g(s.closeDetailDialog())}),f(8,"i",59),l(9,"\xA0 Close "),i()()()()}if(r&2){let e=c();a(5),d("ngIf",e.selectedContact)}}var z=class r{constructor(t,e){this.contactService=t;this.cdr=e}contacts=[];showDeleteConfirm=!1;contactToDelete=null;isLoading=!0;currentPage=1;itemsPerPage=5;totalPages=0;totalContacts=0;paginatedContacts=[];destroy$=new H;showDetailDialog=!1;selectedContact=null;viewDetails(t){this.selectedContact=t,this.showDetailDialog=!0}closeDetailDialog(){this.showDetailDialog=!1,this.selectedContact=null}ngOnInit(){this.loadContacts()}loadContacts(){this.isLoading=!0,this.cdr.markForCheck(),this.contactService.getAllContacts(this.currentPage,this.itemsPerPage).pipe(L(this.destroy$)).subscribe({next:t=>{this.contacts=t.data,this.paginatedContacts=t.data,this.totalContacts=t.total,this.totalPages=t.totalPages,this.currentPage=t.page,this.isLoading=!1,this.cdr.markForCheck()},error:t=>{console.error("Error loading contacts:",t),this.isLoading=!1,this.cdr.markForCheck()}})}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.loadContacts())}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadContacts())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadContacts())}getPageNumbers(){let t=[],o=Math.max(1,this.currentPage-Math.floor(2.5)),s=Math.min(this.totalPages,o+5-1);s-o+1<5&&(o=Math.max(1,s-5+1));for(let p=o;p<=s;p++)t.push(p);return t}confirmDelete(t){this.contactToDelete=t,this.showDeleteConfirm=!0}deleteContact(){this.contactToDelete&&this.contactToDelete.id&&this.contactService.deleteContact(this.contactToDelete.id).pipe(L(this.destroy$)).subscribe({next:()=>{this.paginatedContacts.length===1&&this.currentPage>1&&this.currentPage--,this.loadContacts(),this.cancelDelete()},error:t=>{console.error("Error deleting contact:",t),alert("Failed to delete contact. Please try again."),this.cancelDelete()}})}cancelDelete(){this.contactToDelete=null,this.showDeleteConfirm=!1}formatDate(t){if(!t)return"N/A";let e=typeof t=="string"?new Date(t):t;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}getMin(t,e){return Math.min(t,e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}trackByContactId(t,e){return e.id||t}static \u0275fac=function(e){return new(e||r)(y(re),y(T))};static \u0275cmp=M({type:r,selectors:[["app-contacts-management"]],decls:12,vars:7,consts:[[1,"contacts-management"],[1,"page-header"],[1,"page-title"],[1,"header-info"],["class","contact-count",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","contacts-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"contact-count"],[1,"loading-container"],[1,"loading-spinner"],[1,"contacts-grid"],["class","contact-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"contact-card"],[1,"card-header"],[1,"card-main-info"],[2,"display","flex"],[1,"fa-solid","fa-user",2,"margin-top","3px","margin-right","6px"],[1,"card-name"],[1,"card-email"],[3,"href"],["class","card-phone",4,"ngIf"],[1,"card-side-info"],[1,"card-property"],["class","property-link",4,"ngIf"],["class","no-property",4,"ngIf"],[1,"card-date"],[1,"card-actions"],[1,"action-btn","view-btn",3,"click"],[1,"fas","fa-eye"],[1,"action-btn","delete-btn",3,"click"],[1,"fas","fa-trash"],[1,"card-phone"],[1,"property-link"],[1,"no-property"],[1,"empty-state"],[1,"fas","fa-envelope"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-text"],[1,"pagination-controls"],[1,"pagination-btn","pagination-prev",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"page-numbers"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"pagination-btn","pagination-next",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"page-btn",3,"click"],[1,"modal-overlay",3,"click"],[1,"delete-dialog",3,"click"],[1,"dialog-actions"],[1,"cancel-btn",3,"click"],[1,"confirm-delete-btn",3,"click"],[1,"detail-dialog",3,"click"],[1,"fa-solid","fa-address-card",2,"color","#2980b9"],["class","detail-content",4,"ngIf"],[1,"close-btn",3,"click"],[1,"fa-solid","fa-circle-xmark"],[1,"detail-content"],[1,"detail-item"],[1,"detail-label"],[1,"fa-solid","fa-user"],[1,"detail-value"],[1,"fa-solid","fa-envelope"],["class","detail-item",4,"ngIf"],[1,"fa-solid","fa-building"],[4,"ngIf"],[1,"fa-solid","fa-calendar-days"],[1,"fa-solid","fa-message"],[1,"message-full"],[1,"fa-solid","fa-phone"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"All Messages :"),i(),n(4,"div",3),u(5,vt,2,1,"span",4),i()(),u(6,ht,4,0,"div",5)(7,Mt,2,2,"div",6)(8,wt,6,0,"div",7)(9,Ot,13,6,"div",8)(10,St,11,1,"div",9)(11,At,10,1,"div",9),i()),e&2&&(a(5),d("ngIf",!o.isLoading),a(),d("ngIf",o.isLoading),a(),d("ngIf",!o.isLoading&&o.contacts.length>0),a(),d("ngIf",o.contacts.length===0&&!o.isLoading),a(),d("ngIf",!o.isLoading&&o.contacts.length>0&&o.totalPages>1),a(),d("ngIf",o.showDeleteConfirm),a(),d("ngIf",o.showDetailDialog))},dependencies:[E,S,w],styles:[".contacts-management[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;min-height:calc(100vh - 140px)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0}.header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.contact-count[_ngcontent-%COMP%]{color:#666;font-size:14px;font-weight:500}.contacts-grid[_ngcontent-%COMP%]{display:grid;gap:16px;margin-bottom:30px}.contact-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:20px;transition:all .2s ease;display:flex;flex-direction:column;gap:12px}.contact-card[_ngcontent-%COMP%]:hover{border-color:#06f;box-shadow:0 2px 8px #0066ff1a}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px}.card-main-info[_ngcontent-%COMP%]{flex:1;min-width:200px}.card-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:6px}.card-email[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}.card-email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06f;text-decoration:none}.card-email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-phone[_ngcontent-%COMP%]{font-size:14px;color:#666}.card-phone[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06f;text-decoration:none}.card-phone[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-side-info[_ngcontent-%COMP%]{text-align:right;min-width:150px}.card-property[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:4px}.property-link[_ngcontent-%COMP%]{color:#007bff;font-weight:500}.no-property[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;font-size:.9em}.card-date[_ngcontent-%COMP%]{font-size:13px;color:#999}.card-message-preview[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.5;padding:12px;background-color:#f8f9fa;border-radius:6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.card-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:none;border:none;font-size:14px;font-weight:500;cursor:pointer;padding:8px 16px;border-radius:6px;transition:all .2s ease}.view-btn[_ngcontent-%COMP%]{color:#06f;background-color:#e6f2ff;border:1px solid #0066ff}.view-btn[_ngcontent-%COMP%]:hover{background-color:#06f;color:#fff}.delete-btn[_ngcontent-%COMP%]{color:#f44;border:1px solid #ff4444}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#ffebee;color:#c00}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-bottom:8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:30px;padding-top:20px;border-top:1px solid #f0f0f0}.pagination-info[_ngcontent-%COMP%]{color:#666;font-size:14px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.pagination-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:#fff;border:1px solid #e0e0e0;border-radius:6px;color:#666;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f5f7fa;border-color:#06f;color:#06f}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:4px}.page-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid #e0e0e0;border-radius:6px;color:#666;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.page-btn[_ngcontent-%COMP%]:hover{background-color:#f5f7fa;border-color:#06f;color:#06f}.page-btn.active[_ngcontent-%COMP%]{background-color:#06f;border-color:#06f;color:#fff}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.delete-dialog[_ngcontent-%COMP%], .detail-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;max-width:500px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:0 10px 30px #0003}.delete-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .detail-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-bottom:12px}.delete-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:24px}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:24px}.cancel-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{padding:8px 20px;background:none;border:1px solid #ff2828;border-radius:6px;color:#ff2828;font-size:14px;cursor:pointer;transition:all .2s ease}.cancel-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f7fa}.confirm-delete-btn[_ngcontent-%COMP%]{padding:8px 20px;background-color:#f44;border:none;border-radius:6px;color:#fff;font-size:14px;cursor:pointer;transition:background-color .2s ease}.confirm-delete-btn[_ngcontent-%COMP%]:hover{background-color:#c00}.detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;background-color:#eee;padding:16px 8px 8px 11px;border-radius:9px;margin:7px -3px -4px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.detail-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{font-size:15px;color:#333;word-break:break-word}.detail-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06f;text-decoration:none}.detail-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.message-full[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:16px;border-radius:8px;white-space:pre-wrap;line-height:1.6;font-size:15px;color:#333}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem;margin:0}@media (max-width: 768px){.contacts-management[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:flex-start}.page-title[_ngcontent-%COMP%]{font-size:24px}.card-header[_ngcontent-%COMP%]{flex-direction:column}.card-side-info[_ngcontent-%COMP%]{text-align:left}.card-actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{justify-content:center}.pagination-container[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:center}.pagination-controls[_ngcontent-%COMP%]{gap:8px}.pagination-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.page-btn[_ngcontent-%COMP%]{width:32px;height:32px;font-size:12px}.footer[_ngcontent-%COMP%]{margin-top:0}}@media (min-width: 769px){.contacts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.card-header[_ngcontent-%COMP%], .card-actions[_ngcontent-%COMP%]{flex-direction:row}}"],changeDetection:0})};function Dt(r,t){r&1&&f(0,"app-properties-management")}function Ft(r,t){r&1&&f(0,"app-contacts-management")}var le=class r{constructor(t){this.router=t}activeTab="properties";setActiveTab(t){this.activeTab=t}static \u0275fac=function(e){return new(e||r)(y(W))};static \u0275cmp=M({type:r,selectors:[["app-admin"]],decls:16,vars:6,consts:[[1,"admin-dashboard"],[1,"sidebar"],[1,"sidebar-title"],[1,"sidebar-nav"],[1,"nav-item",3,"click"],[1,"fas","fa-home"],[1,"fas","fa-envelope"],[1,"main-content"],[4,"ngIf"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"aside",1)(2,"h2",2),l(3,"Admin Dashboard"),i(),n(4,"nav",3)(5,"button",4),_("click",function(){return o.setActiveTab("properties")}),f(6,"i",5),n(7,"span"),l(8,"Properties"),i()(),n(9,"button",4),_("click",function(){return o.setActiveTab("contacts")}),f(10,"i",6),n(11,"span"),l(12,"Contacts"),i()()()(),n(13,"main",7),u(14,Dt,1,0,"app-properties-management",8)(15,Ft,1,0,"app-contacts-management",8),i()()),e&2&&(a(5),h("active",o.activeTab==="properties"),a(4),h("active",o.activeTab==="contacts"),a(5),d("ngIf",o.activeTab==="properties"),a(),d("ngIf",o.activeTab==="contacts"))},dependencies:[E,w,G,F,z],styles:[".admin-dashboard[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 80px);margin-top:80px;background-color:#f5f7fa}.sidebar[_ngcontent-%COMP%]{width:260px;background-color:#fff;border-right:1px solid #e0e0e0;padding:30px 0;position:fixed;height:calc(100vh - 80px);overflow-y:auto}.sidebar-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333;padding:0 24px;margin-bottom:30px}.sidebar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 24px;background:none;border:none;color:#666;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s ease;text-align:left;width:100%}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;width:20px;text-align:center}.nav-item[_ngcontent-%COMP%]:hover{background-color:#f5f7fa;color:#333}.nav-item.active[_ngcontent-%COMP%]{background-color:#e6f0ff;color:#06f;border-left:3px solid #0066ff;padding-left:21px}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:260px;padding:30px;max-width:calc(100% - 260px)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:static;width:100%;height:auto;border-right:none;border-bottom:1px solid #e0e0e0;padding:20px 0}.sidebar-nav[_ngcontent-%COMP%]{flex-direction:row;padding:0 20px;gap:10px}.nav-item[_ngcontent-%COMP%]{flex:1;justify-content:center;padding:10px}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]{margin-left:0;max-width:100%;padding:20px}.admin-dashboard[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{le as AdminComponent};
